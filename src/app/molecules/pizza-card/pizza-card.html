<div class="card h-100 border-0 glass-panel hover-lift rounded-4 overflow-hidden shadow-sm">
  
  <div class="card-img-wrapper">
    <img [src]="pizza().imagen" [alt]="pizza().nombre">
    <div class="gradient-overlay"></div>
    
    <span class="position-absolute bottom-0 end-0 m-3 badge bg-white text-dark rounded-pill shadow px-3 py-2 d-flex align-items-center gap-1">
      <span class="fs-6 fw-bold">{{ pizza().precio | currency:'EUR' }}</span>
    </span>
  </div>
  
  <div class="card-body d-flex flex-column p-4">
    <div class="mb-3">
      <h4 class="card-title fw-bold text-dark mb-1 ls-tight">{{ pizza().nombre }}</h4>
      <div style="width: 40px; height: 3px; background-color: var(--bs-primary); border-radius: 2px;"></div>
    </div>
    
    <div class="mb-4 flex-grow-1">
      <div class="d-flex flex-wrap gap-2">
        @for (ing of pizza().ingredientes; track $index) {
          <div class="ingredient-pill rounded-pill px-2 py-1 d-flex align-items-center gap-1 text-secondary user-select-none"
               [title]="getIcon(ing).label">
            <i [class]="'bi ' + getIcon(ing).icon + ' ' + getIcon(ing).color"></i>
            <span class="fw-medium">{{ getIcon(ing).label }}</span>
          </div>
        }
      </div>
    </div>

    <div class="mt-auto pt-3 border-top d-flex flex-wrap align-items-center justify-content-between gap-2">
      
      <div class="quantity-selector d-flex align-items-center rounded-pill px-1 py-1">
        <button class="btn btn-link text-decoration-none p-0 px-2" (click)="dec()">
          <i class="bi bi-dash-circle-fill fs-5"></i>
        </button>
        <span class="fw-bold mx-2 text-dark" style="min-width: 20px; text-align: center;">{{ cantidad() }}</span>
        <button class="btn btn-link text-decoration-none p-0 px-2" (click)="inc()">
          <i class="bi bi-plus-circle-fill fs-5"></i>
        </button>
      </div>
      
      <button class="btn btn-primary rounded-pill px-4 py-2 fw-bold shadow-sm d-flex align-items-center gap-2 flex-grow-1 justify-content-center transition-btn" 
              (click)="submit()">
        <span>AÃ±adir</span>
        <i class="bi bi-bag-plus-fill"></i>
      </button>
    </div>

  </div>
</div>